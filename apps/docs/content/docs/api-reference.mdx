---
title: API Reference
description: Complete API documentation
icon: Code
---

# API Reference

Complete reference for all QRDX functions and types.

## Components

### QRCode

Main component for rendering QR codes.

```tsx
import { QRCode } from 'qrdx';

<QRCode
  value="https://example.com"
  size={256}
  fgColor="#000000"
  bgColor="#ffffff"
/>
```

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `value` | `string` | **required** | URL or text to encode |
| `size` | `number` | `128` | Size in pixels |
| `scale` | `number` | `1` | Scale multiplier |
| `fgColor` | `ColorConfig` | `#000000` | QR code color |
| `bgColor` | `ColorConfig` | `#ffffff` | Background color |
| `eyeColor` | `ColorConfig` | `fgColor` | Corner marker color |
| `dotColor` | `ColorConfig` | `fgColor` | Data dot color |
| `bodyPattern` | `BodyPattern` | `'circle'` | Data dot pattern |
| `cornerEyePattern` | `CornerEyePattern` | `'square'` | Corner marker pattern |
| `cornerEyeDotPattern` | `CornerEyeDotPattern` | `'square'` | Corner dot pattern |
| `hideLogo` | `boolean` | `true` | Hide/show logo |
| `logo` | `string` | Default | Logo URL |
| `templateId` | `string` | `'default'` | Template ID |
| `customTemplate` | `TemplateDefinition` | — | Custom template |
| `level` | `ErrorLevel` | `'L'` | Error correction |
| `margin` | `number` | `0` | Margin in modules |
| `imageSettings` | `ImageSettings` | — | Logo settings |

### QRCodeCanvas

Canvas-based rendering.

```tsx
import { QRCodeCanvas } from 'qrdx';

<QRCodeCanvas
  value="https://example.com"
  size={512}
  fgColor="#000000"
/>
```

### QRCodeSVG

SVG-based rendering.

```tsx
import { QRCodeSVG } from 'qrdx';

<QRCodeSVG
  value="https://example.com"
  size={512}
/>
```

## Download Functions

### downloadQRCode

Download QR codes in multiple formats.

```tsx
downloadQRCode(
  qrProps: QRProps,
  options: {
    format: 'png' | 'jpg' | 'svg' | 'pdf';
    size: { width: number; height: number };
    filename?: string;
  }
): Promise<void>
```

### getQRCodeDataUrl

Get as data URL.

```tsx
getQRCodeDataUrl(
  qrProps: QRProps,
  format: DownloadFormat,
  size: DownloadSize
): Promise<string>
```

### copyQRCodeToClipboard

Copy to clipboard.

```tsx
copyQRCodeToClipboard(
  qrProps: QRProps,
  size?: DownloadSize
): Promise<void>
```

### getSVGString

Get SVG markup.

```tsx
getSVGString(qrProps: QRProps): Promise<string>
```

## Detection Functions

### handleImageLoad

Detect QR codes from images.

```tsx
handleImageLoad(
  imgElement: HTMLImageElement,
  size: number,
  returnFullData?: boolean
): Promise<string | any>
```

### downloadImageWithBoundingBox

Debug with bounding boxes.

```tsx
downloadImageWithBoundingBox(
  imgElement: HTMLImageElement,
  boundingBox: { x: number; y: number }[],
  filename: string
): void
```

## Template Functions

### getTemplate

Get specific template.

```tsx
getTemplate(templateId: string): TemplateDefinition | undefined
```

### getAllTemplates

Get all templates.

```tsx
getAllTemplates(): TemplateDefinition[]
```

### getTemplateIds

Get template IDs.

```tsx
getTemplateIds(): string[]
```

## Utility Functions

### Color & Contrast

```tsx
getSolidColor(colorConfig: ColorConfig, fallback?: string): string
getContrastRatio(color1: string, color2: string): number
getContrastLevel(ratio: number): ContrastLevel
getLuminance(r: number, g: number, b: number): number
hexToRgb(hex: string): { r: number; g: number; b: number }
```

### Validation

```tsx
validateSize(width: number, height: number): {
  isValid: boolean;
  error?: string;
}
```

### Feature Detection

```tsx
SUPPORTS_PATH2D: boolean
```

## Types

### Core Types

```tsx
type QRProps = {
  value: string;
  size?: number;
  level?: ErrorLevel;
  bgColor?: ColorConfig;
  fgColor?: ColorConfig;
  margin?: number;
  imageSettings?: ImageSettings;
  // ...
};

type ColorConfig =
  | string
  | { type: 'solid'; color: string }
  | LinearGradient
  | RadialGradient;

type ErrorLevel = 'L' | 'M' | 'Q' | 'H';
```

### Pattern Types

```tsx
type BodyPattern =
  | 'circle'
  | 'square'
  | 'diamond'
  | 'circle-mixed'
  | 'pacman'
  | 'rounded'
  | 'clean-square';

type CornerEyePattern = 'square' | 'rounded' | 'circle';
type CornerEyeDotPattern = 'square' | 'rounded' | 'circle';
```

### Download Types

```tsx
type DownloadFormat = 'png' | 'jpg' | 'svg' | 'pdf';

type DownloadSize = {
  width: number;
  height: number;
};

const PRESET_SIZES: Record<string, DownloadSize> = {
  small: { width: 200, height: 200 },
  medium: { width: 400, height: 400 },
  large: { width: 800, height: 800 },
  xlarge: { width: 1200, height: 1200 },
  '2xl': { width: 1600, height: 1600 },
  '3xl': { width: 2000, height: 2000 },
};
```

### Gradient Types

```tsx
type LinearGradient = {
  type: 'linear';
  stops: GradientStop[];
  x1: number;
  y1: number;
  x2: number;
  y2: number;
};

type RadialGradient = {
  type: 'radial';
  stops: GradientStop[];
  cx: number;
  cy: number;
  r: number;
};

type GradientStop = {
  offset: number;
  color: string;
};
```

### Image Settings

```tsx
type ImageSettings = {
  src: string;
  height: number;
  width: number;
  excavate?: boolean;
  x?: number;
  y?: number;
  opacity?: number;
};
```

## Error Correction Levels

```tsx
const ERROR_LEVELS = {
  L: 'Low (~7%)',
  M: 'Medium (~15%)',
  Q: 'Quartile (~25%)',
  H: 'High (~30%)',
} as const;
```

## Error Handling

Wrap async functions in try-catch:

```tsx
try {
  await downloadQRCode(props, options);
} catch (error) {
  console.error('Failed:', error);
}
```

Common errors:
- Invalid image URLs
- Network failures
- Invalid size parameters
- Canvas context unavailable

## Browser Support

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Server Support

Works in Node.js environments:
- Next.js
- Remix
- Express.js
- Other Node.js frameworks

Some features require browser APIs:
- Canvas operations
- Clipboard API
- File API
