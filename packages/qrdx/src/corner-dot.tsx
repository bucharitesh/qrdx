import type { JSX } from "react";
import type { CornerEyeDotPattern } from "../types/corner-dot";

/**
 * Generate corner dot pattern based on type
 * @param cx - Center X coordinate
 * @param cy - Center Y coordinate
 * @param radius - Radius of the dot
 * @param pattern - Pattern type for the corner dot
 * @returns JSX element representing the pattern
 */
export function generateCornerDotPath(
  cx: number,
  cy: number,
  radius: number,
  pattern: CornerEyeDotPattern = "circle"
): JSX.Element {
  const size = radius * 2;
  const halfSize = radius;

  switch (pattern) {
    case "square":
      return (
        <rect
          height={size}
          transform={`rotate(0,${cx},${cy})`}
          width={size}
          x={cx - halfSize}
          y={cy - halfSize}
        />
      );

    case "rounded":
      return (
        <rect
          height={size}
          rx={radius * 0.5}
          ry={radius * 0.5}
          transform={`rotate(0,${cx},${cy})`}
          width={size}
          x={cx - halfSize}
          y={cy - halfSize}
        />
      );

    case "diamond":
      return (
        <path
          d={`M ${cx - halfSize * 0.714_286} ${cy - halfSize * 0.714_286}v ${size * 0.714_286}h ${size * 0.714_286}v -${size * 0.714_286}z`}
          transform={`rotate(45,${cx},${cy})`}
        />
      );

    case "message": {
      // Scale to match old patterns: new patterns span ~30 units in 80x80, old patterns fill 'size'
      const scale = size / 30;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(25)} ${transformY(35.714_285_714_285_715)}v ${8.571_428_571_428_571 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}h ${19.285_714_285_714_285 * scale}v -${19.285_714_285_714_285 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} -${10.714_285_714_285_714 * scale}h -${8.571_428_571_428_571 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}`;
      return (
        <path clipRule="evenodd" d={path} transform={`rotate(0,${cx},${cy})`} />
      );
    }

    case "message-reverse": {
      // Scale to match old patterns: new patterns span ~30 units in 80x80, old patterns fill 'size'
      const scale = size / 30;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(25)} ${transformY(35.714_285_714_285_715)}v ${8.571_428_571_428_571 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}h ${19.285_714_285_714_285 * scale}v -${19.285_714_285_714_285 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} -${10.714_285_714_285_714 * scale}h -${8.571_428_571_428_571 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}`;
      return (
        <path
          clipRule="evenodd"
          d={path}
          transform={`rotate(-180,${cx},${cy})`}
        />
      );
    }

    case "diya": {
      // Scale to match old patterns: new patterns span ~30 units in 80x80, old patterns fill 'size'
      const scale = size / 30;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(25)} ${transformY(35.714_285_714_285_715)}v ${8.571_428_571_428_571 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}h ${19.285_714_285_714_285 * scale}v -${19.285_714_285_714_285 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} -${10.714_285_714_285_714 * scale}h -${8.571_428_571_428_571 * scale}H ${transformX(25)}z`;
      return (
        <path clipRule="evenodd" d={path} transform={`rotate(0,${cx},${cy})`} />
      );
    }

    case "diya-reverse": {
      // Scale to match old patterns: new patterns span ~30 units in 80x80, old patterns fill 'size'
      const scale = size / 30;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(25)} ${transformY(35.714_285_714_285_715)}v ${19.285_714_285_714_285 * scale}h ${19.285_714_285_714_285 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, ${10.714_285_714_285_714 * scale} -${10.714_285_714_285_714 * scale}v -${19.285_714_285_714_285 * scale}h -${19.285_714_285_714_285 * scale}a ${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}, 0, 0, 0, -${10.714_285_714_285_714 * scale} ${10.714_285_714_285_714 * scale}z`;
      return (
        <path clipRule="evenodd" d={path} transform={`rotate(0,${cx},${cy})`} />
      );
    }

    case "rounded-triangle": {
      // Scale to match old patterns: new patterns span ~21 units in 80x80, old patterns fill 'size'
      const scale = size / 21;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(33.571_428_571_428_57)} ${transformY(29.285_714_285_714_285)}h ${12.857_142_857_142_856 * scale}c ${4.285_714_285_714_286 * scale} 0 ${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale}v ${12.857_142_857_142_856 * scale}c 0 ${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale}h -${12.857_142_857_142_856 * scale}c -${4.285_714_285_714_286 * scale} 0 -${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale}v -${12.857_142_857_142_856 * scale}c 0 -${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale} ${4.285_714_285_714_286 * scale} -${4.285_714_285_714_286 * scale}z`;
      return <path d={path} transform={`rotate(45,${cx},${cy})`} />;
    }

    case "star": {
      // Scale to match old patterns: new patterns span ~27 units in 80x80, old patterns fill 'size'
      const scale = size / 27;
      const transformX = (coord: number) => (coord - 40) * scale + cx;
      const transformY = (coord: number) => (coord - 40) * scale + cy;
      const path = `M ${transformX(38.846_153_846_153_85)},${transformY(26.546_153_846_153_846)}c${0.669_230_769_230_769_1 * scale},-${1.015_384_615_384_615_3 * scale},${2.215_384_615_384_615 * scale},-${1.015_384_615_384_615_3 * scale},${2.884_615_384_615_384 * scale},0l${4.038_461_538_461_538 * scale},${6.069_230_769_230_768 * scale}c${0.230_769_230_769_230_75 * scale},${0.346_153_846_153_846_1 * scale},${0.6 * scale},${0.6 * scale},${1.015_384_615_384_615_3 * scale},${0.715_384_615_384_615_3 * scale}l${7.223_076_923_076_922 * scale},${1.823_076_923_076_923 * scale}c${1.2 * scale},${0.3 * scale},${1.684_615_384_615_384_4 * scale},${1.707_692_307_692_307_6 * scale},${0.899_999_999_999_999_9 * scale},${2.653_846_153_846_153_3 * scale}l-${4.730_769_230_769_23 * scale},${5.584_615_384_615_384 * scale}c-${0.276_923_076_923_076_9 * scale},${0.323_076_923_076_923_1 * scale},-${0.415_384_615_384_615_35 * scale},${0.738_461_538_461_538_4 * scale},-${0.392_307_692_307_692_3 * scale},${1.130_769_230_769_230_7 * scale}l${0.438_461_538_461_538_4 * scale},${7.199_999_999_999_999 * scale}c${0.069_230_769_230_769_22 * scale},${1.2 * scale},-${1.176_923_076_923_076_7 * scale},${2.076_923_076_923_076_6 * scale},-${2.330_769_230_769_230_5 * scale},${1.638_461_538_461_538_2 * scale}l-${6.969_230_769_230_768_5 * scale},-${2.607_692_307_692_307_3 * scale}c-${0.392_307_692_307_692_3 * scale},-${0.161_538_461_538_461_55 * scale},-${0.853_846_153_846_153_8 * scale},-${0.161_538_461_538_461_55 * scale},-${1.246_153_846_153_846_2 * scale},0l-${6.969_230_769_230_768_5 * scale},${2.607_692_307_692_307_3 * scale}c-${1.153_846_153_846_153_7 * scale},${0.438_461_538_461_538_4 * scale},-${2.4 * scale},-${0.438_461_538_461_538_4 * scale},-${2.330_769_230_769_230_5 * scale},-${1.638_461_538_461_538_2 * scale}l${0.438_461_538_461_538_4 * scale},-${7.199_999_999_999_999 * scale}c${0.023_076_923_076_923_075 * scale},-${0.415_384_615_384_615_35 * scale},-${0.115_384_615_384_615_38 * scale},-${0.830_769_230_769_230_7 * scale},-${0.392_307_692_307_692_3 * scale},-${1.130_769_230_769_230_7 * scale}l-${4.730_769_230_769_23 * scale},-${5.584_615_384_615_384 * scale}c-${0.784_615_384_615_384_6 * scale},-${0.923_076_923_076_923 * scale},-${0.323_076_923_076_923_1 * scale},-${2.330_769_230_769_230_5 * scale},${0.899_999_999_999_999_9 * scale},-${2.653_846_153_846_153_3 * scale}l${7.223_076_923_076_922 * scale},-${1.823_076_923_076_923 * scale}c${0.415_384_615_384_615_35 * scale},-${0.115_384_615_384_615_38 * scale},${0.784_615_384_615_384_6 * scale},-${0.346_153_846_153_846_1 * scale},${1.015_384_615_384_615_3 * scale},-${0.715_384_615_384_615_3 * scale}l${4.038_461_538_461_538 * scale},-${6.069_230_769_230_768 * scale}z`;
      return (
        <path clipRule="evenodd" d={path} transform={`rotate(0,${cx},${cy})`} />
      );
    }

    case "banner": {
      // Scale to match old patterns: new patterns span ~28 units in 80x80, old patterns fill 'size'
      const scale = size / 28;
      const path =
        "M38.23456923076923 26.10373C38.75864615384615 25.677388461538463, 39.510007692307695 25.677388461538463, 40.03410769230769 26.10373L41.7757 27.520484615384614C42.09088461538461 27.776892307692307, 42.5005 27.886646153846154, 42.90166923076923 27.82219230769231L45.118300000000005 27.466046153846154C45.78536153846154 27.358853846153846, 46.43606153846153 27.734546153846154, 46.676753846153844 28.365815384615384L47.47664615384615 30.463553846153847C47.621407692307685 30.843192307692306, 47.92126923076923 31.143053846153844, 48.300999999999995 31.287815384615385L50.3986923076923 32.08770769230769C51.02984615384615 32.3284, 51.405538461538455 32.9791, 51.29846153846154 33.64616153846154L50.94238461538461 35.8627923076923C50.87776923076923 36.26396153846154, 50.98761538461538 36.67357692307692, 51.244 36.98876153846154L52.6606923076923 38.73035384615385C53.08715384615384 39.254453846153844, 53.08715384615384 40.00581538461538, 52.6606923076923 40.52989230769231L51.244 42.27148461538461C50.98761538461538 42.5866923076923, 50.87776923076923 42.99628461538461, 50.94238461538461 43.397453846153844L51.29846153846154 45.614107692307684C51.405538461538455 46.28114615384615, 51.02984615384615 46.93184615384615, 50.3986923076923 47.17256153846154L48.300999999999995 47.97243076923077C47.92126923076923 48.11730769230769, 47.621407692307685 48.41707692307692, 47.47664615384615 48.796692307692304L46.676753846153844 50.89438461538461C46.43606153846153 51.52576923076923, 45.78536153846154 51.90146153846153, 45.118300000000005 51.79415384615385L42.90166923076923 51.43807692307692C42.5005 51.37369230769231, 42.09088461538461 51.48330769230769, 41.7757 51.73969230769231L40.03410769230769 53.15661538461538C39.510007692307695 53.58284615384615, 38.75864615384615 53.58284615384615, 38.23456923076923 53.15661538461538L36.492976923076924 51.73969230769231C36.17776923076923 51.48330769230769, 35.76817692307692 51.37369230769231, 35.367007692307695 51.43807692307692L33.15035384615385 51.79415384615385C32.48331538461538 51.90146153846153, 31.832615384615384 51.52576923076923, 31.5919 50.89438461538461L30.79203076923077 48.796692307692304C30.647269230769233 48.41707692307692, 30.34740769230769 48.11730769230769, 29.96776923076923 47.97243076923077L27.87000769230769 47.17256153846154C27.23874769230769 46.93184615384615, 26.86306692307692 46.28114615384615, 26.970243076923076 45.614107692307684L27.326384615384615 43.397453846153844C27.39083846153846 42.99628461538461, 27.281093846153844 42.5866923076923, 27.02469076923077 42.27148461538461L25.607936153846154 40.52989230769231C25.181594384615384 40.00581538461538, 25.181594384615384 39.254453846153844, 25.607936153846154 38.73035384615385L27.02469076923077 36.98876153846154C27.281093846153844 36.67357692307692, 27.39083846153846 36.26396153846154, 27.326384615384615 35.8627923076923L26.970243076923076 33.64616153846154C26.86306692307692 32.9791, 27.23874769230769 32.3284, 27.87000769230769 32.08770769230769L29.96776923076923 31.287815384615385C30.34740769230769 31.143053846153844, 30.647269230769233 30.843192307692306, 30.79203076923077 30.463553846153847L31.5919 28.365815384615384C31.832615384615384 27.734546153846154, 32.48331538461538 27.358853846153846, 33.15035384615385 27.466046153846154L35.367007692307695 27.82219230769231C35.76817692307692 27.886646153846154, 36.17776923076923 27.776892307692307, 36.492976923076924 27.520484615384614L38.23456923076923 26.10373Z";
      return (
        <g
          transform={`translate(${cx - 40 * scale},${cy - 40 * scale}) scale(${scale})`}
        >
          <path clipRule="evenodd" d={path} />
        </g>
      );
    }

    default:
      return (
        <circle
          cx={cx}
          cy={cy}
          r={radius}
          transform={`rotate(0,${cx},${cy})`}
        />
      );
  }
}
